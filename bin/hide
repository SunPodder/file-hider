#!/usr/bin/bash

blue="\e[1;34m"
white="\e[0m"
red="\e[1;31m"
yellow="\e[1;33m"
big="\033[1m"
version="1.0.3"

help="
${big}Hide your secret files inside a image securely.

${yellow}Usage:$white hide [image path] [files to hide]

${red}check version:$white -v | --verison

${red}image path:$white Path of the image where your files will be hidden.

${red}files to hide:$white Path of the files you want to hide.

${blue}NOTE:$white It is recommended to keep all your files and folders in a parent folder.
"

versionMsg="
${yellow}${big}File Hider$white
By$blue SunPodder$white ${red}[${white}github.com/SunPodder${red}]$white
Version:$blue $version $white
"

if [[ "$1" == "--help" || "$1" == "-h" ]]
then
printf "$help"

elif [[ "$1" == "-v" || "$1" == "--version" ]]
then

printf "$versionMsg"

elif [[ -z "$1" || -z "$2" ]]
then

printf "${yellow}Usage:$white hide [image path] [files to hide]
Type hide -h or hide --help for more info.
"

else

IFS="."
read -ra newName <<< "$1"
IFS=""

zip -r $2.zip $2 > /dev/null 2>&1
cat $1 $2.zip > "${newName}_secret.jpg"
rm -rf $2.zip

fi
echo $1
